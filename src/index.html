<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Morse Walker</title>
    <meta
      name="description"
      content="Morse Walker is a CW pileup trainer with modes such as POTA, SST, and CWT, plus beginner-friendly features, including adjustable speeds and Farnsworth spacing."
    />

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon" />

    <!-- Ð¡Ñ‚Ð¸Ð»Ð¸ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°Ñ‚ÐµÐ»Ñ ÑÐ·Ñ‹ÐºÐ° -->
    <link rel="stylesheet" href="css/language-switcher.css" />

    <!-- Web Manifest -->
    <link rel="manifest" href="site.webmanifest" />

    <!-- Icons -->
    <link
      rel="icon"
      type="image/png"
      sizes="48x48"
      href="img/morsewalker-48px.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="72x72"
      href="img/morsewalker-72px.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="img/morsewalker-96px.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="144x144"
      href="img/morsewalker-144px.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="img/morsewalker-192px.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="256x256"
      href="img/morsewalker-256px.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="384x384"
      href="img/morsewalker-384px.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="img/morsewalker-512px.png"
    />
    <link rel="icon" type="image/svg+xml" href="img/morsewalker-logo.svg" />
    <link
      rel="apple-touch-icon"
      sizes="256x256"
      href="img/morsewalker-256px.png"
    />

    <!-- Theme Colors -->
    <meta name="theme-color" content="#fafafa" />
    <meta name="msapplication-TileColor" content="#fafafa" />
  </head>

  <body class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
      <h1 class="mb-0" style="display: inline-block; line-height: 1">
        <span id="app-title"></span>
        <img
          src="img/morsewalker-logo.png"
          alt="Morse Walker Logo"
          style="height: 1em; vertical-align: bottom"
        />
      </h1>
      <div class="d-flex align-items-center gap-2 mt-2 flex-wrap">
        <p class="fw-bold fst-italic mb-0" id="app-subtitle">Walk before you run!</p>
        <a 
        href="https://r9o.ru" 
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-sm btn-primary"
        style="font-size: 0.8rem;"
        data-bs-toggle="tooltip"
        data-bs-placement="bottom"
        title="ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° Ð³Ð»Ð°Ð²Ð½Ñ‹Ð¹ ÑÐ°Ð¹Ñ‚ R9O"
        >
          <i class="fa-solid fa-globe me-1"></i>
          r9o.ru
        </a>
      </div>
    </div>

      <!-- Beta Warning Banner -->
      <div class="container">
        <div class="row justify-content-center mt-3">
          <div class="col-lg-10 col-xl-8">
            <div
              id="betaWarning"
              class="alert alert-danger alert-dismissible fade show"
              role="alert"
              style="background-color: #f8d7da; border-color: #f5c2c7"
            >
              <p class="mb-0">
                <span data-i18n="betaWarning.text"
                  >Morse Walker is currently in <strong>beta</strong> and
                  <em>your feedback is invaluable!</em></span
                >
                <a
                  href="https://github.com/sc0tfree/morsewalker/issues/new/choose"
                  target="_blank"
                  class="alert-link fw-bold"
                  data-i18n="betaWarning.submitIssue"
                  >Submit an issue</a
                >
                <span data-i18n="betaWarning.forBugs"
                  >for bugs or feature requests, or email</span
                >
                <a href="mailto:henry@w6nyc.com" class="alert-link"
                  >henry@w6nyc.com</a
                >
                /
                <a href="mailto:admin@r9o.ru" class="alert-link">admin@r9o.ru</a
                >.
              </p>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>
            </div>
          </div>
        </div>
      </div>

      <!-- ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°Ñ‚ÐµÐ»ÑŒ ÑÐ·Ñ‹ÐºÐ° -->
      <div class="language-switcher me-3">
        <button id="lang-en" class="lang-btn active">EN</button>
        <button id="lang-ru" class="lang-btn">RU</button>
      </div>
    </div>

    <hr />

    <!-- Mode Section -->
    <div class="d-flex flex-column flex-sm-row align-items-center mb-3">
      <!-- On extra-small screens, this will be centered and above the buttons.
         From 'sm' breakpoint and up, it aligns to the start (left) and sits inline. -->
      <h3 class="mb-2 mb-sm-0 text-center text-sm-start me-sm-3">Mode</h3>

      <div
        class="flex-grow-1 d-flex justify-content-center flex-column align-items-center"
      >
        <div class="btn-group" role="group" aria-label="Mode selection">
          <input
            type="radio"
            class="btn-check"
            name="mode"
            id="modeSingle"
            value="single"
            autocomplete="off"
            checked
          />
          <label
            class="btn btn-outline-primary d-flex align-items-center justify-content-center"
            for="modeSingle"
            >Single Caller</label
          >

          <input
            type="radio"
            class="btn-check"
            name="mode"
            id="modeContest"
            value="contest"
            autocomplete="off"
          />
          <label
            class="btn btn-outline-primary d-flex align-items-center justify-content-center"
            for="modeContest"
            >Basic Contest</label
          >

          <input
            type="radio"
            class="btn-check"
            name="mode"
            id="modePota"
            value="pota"
            autocomplete="off"
          />
          <label
            class="btn btn-outline-primary d-flex align-items-center justify-content-center"
            for="modePota"
            >POTA Activator</label
          >

          <!-- ðŸ‡·ðŸ‡º Ð ÐµÐ¶Ð¸Ð¼ Ð Ð”Ð -->
          <input
            type="radio"
            class="btn-check"
            name="mode"
            id="modeRda"
            value="rda"
            autocomplete="off"
          />
          <label
            class="btn btn-outline-primary d-flex align-items-center justify-content-center"
            for="modeRda"
            >RDA</label
          >

          <input
            type="radio"
            class="btn-check"
            name="mode"
            id="modeCwt"
            value="cwt"
            autocomplete="off"
          />
          <label
            class="btn btn-outline-primary d-flex align-items-center justify-content-center"
            for="modeCwt"
            >CWT</label
          >

          <input
            type="radio"
            class="btn-check"
            name="mode"
            id="modeSst"
            value="sst"
            autocomplete="off"
          />
          <label
            class="btn btn-outline-primary d-flex align-items-center justify-content-center"
            for="modeSst"
            >K1USN SST</label
          >
        </div>
      </div>
    </div>

    <hr />

    <!-- Unified Accordion Stack -->
    <div class="accordion" id="accordionExample">
      <!-- Your Station -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingYourStation">
          <button
            class="accordion-button"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseYourStationSettings"
            aria-expanded="true"
            aria-controls="collapseYourStationSettings"
          >
            <h5>Your Station Settings</h5>
          </button>
        </h2>
        <div
          id="collapseYourStationSettings"
          class="accordion-collapse collapse show"
          aria-labelledby="headingYourStation"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <div class="container">
              <div class="row g-3">
                <div class="col-6 col-md-4 col-lg-2">
                  <label for="yourCallsign" class="form-label">Callsign</label>
                  <input
                    type="text"
                    id="yourCallsign"
                    name="callsign"
                    class="form-control"
                    required
                    autocomplete="off"
                    autocapitalize="characters"
                    spellcheck="false"
                    autocorrect="off"
                  />
                  <div class="invalid-feedback"></div>
                </div>
                <div class="col-6 col-md-4 col-lg-2">
                  <label for="yourName" class="form-label">First Name</label>
                  <input
                    type="text"
                    id="yourName"
                    name="name"
                    class="form-control"
                    required
                    autocomplete="off"
                    autocapitalize="characters"
                    spellcheck="false"
                    autocorrect="off"
                  />
                  <div class="invalid-feedback"></div>
                </div>
                <div class="col-6 col-md-4 col-lg-2">
                  <label for="yourState" class="form-label">State</label>
                  <input
                    type="text"
                    id="yourState"
                    name="state"
                    class="form-control"
                    maxlength="2"
                    placeholder="(e.g., CA, TX)"
                    autocomplete="off"
                    autocapitalize="characters"
                    spellcheck="false"
                    autocorrect="off"
                  />
                  <div class="invalid-feedback"></div>
                </div>

                <div class="col-6 col-md-4 col-lg-2">
                  <label for="yourSpeed" class="form-label">Speed (WPM)</label>
                  <input
                    type="number"
                    id="yourSpeed"
                    name="yourSpeed"
                    class="form-control"
                    value="20"
                    min="1"
                    max="100"
                    step="1"
                    required
                  />
                </div>
                <div class="col-6 col-md-4 col-lg-2">
                  <label for="yourSidetone" class="form-label"
                    >Sidetone (Hz)</label
                  >
                  <input
                    type="number"
                    id="yourSidetone"
                    name="yourSidetone"
                    class="form-control"
                    value="600"
                    min="50"
                    max="9999"
                    step="1"
                    required
                  />
                </div>
                <div class="col-6 col-md-4 col-lg-2">
                  <label for="yourVolume" class="form-label"
                    >Sidetone Volume</label
                  >
                  <input
                    type="number"
                    id="yourVolume"
                    name="yourVolume"
                    class="form-control"
                    value="70"
                    min="0"
                    max="100"
                    step="1"
                    required
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Responding Station Settings -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingRespondingStationSettings">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseRespondingStationSettings"
            aria-expanded="false"
            aria-controls="collapseRespondingStationSettings"
          >
            <h5>Responding Station Settings</h5>
          </button>
        </h2>
        <div
          id="collapseRespondingStationSettings"
          class="accordion-collapse collapse"
          aria-labelledby="headingRespondingStationSettings"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <div class="container">
              <!-- Farnsworth Row -->
              <div class="row g-3 align-items-end">
                <!-- Max Stations -->
                <div class="col-12 col-md-4 col-lg">
                  <label for="maxStations" class="form-label"
                    >Maximum Stations</label
                  >
                  <input
                    type="number"
                    id="maxStations"
                    name="maxStations"
                    class="form-control"
                    value="3"
                    min="1"
                    max="100"
                    step="1"
                    required
                  />
                </div>

                <!-- Min Speed -->
                <div class="col-12 col-md-4 col-lg">
                  <label for="minSpeed" class="form-label">Min Speed</label>
                  <input
                    type="number"
                    id="minSpeed"
                    name="minSpeed"
                    class="form-control"
                    value="18"
                    min="1"
                    max="100"
                    step="1"
                    required
                  />
                  <div class="invalid-feedback"></div>
                </div>

                <!-- Max Speed -->
                <div class="col-12 col-md-4 col-lg">
                  <label for="maxSpeed" class="form-label">Max Speed</label>
                  <input
                    type="number"
                    id="maxSpeed"
                    name="maxSpeed"
                    class="form-control"
                    value="25"
                    min="1"
                    max="100"
                    step="1"
                    required
                  />
                </div>

                <!-- Enable Farnsworth -->
                <div class="col-12 col-md-6 col-lg">
                  <input
                    type="checkbox"
                    class="btn-check"
                    id="enableFarnsworth"
                    autocomplete="off"
                    onchange="
                   document.getElementById('enableFarnsworthLabel').innerHTML =
                     `<i class='${this.checked ? 'fa-solid fa-circle-check' : 'fa-regular fa-circle-xmark'} me-2'></i>Farnsworth`;
                   document.getElementById('farnsworthSpeed').disabled = !this.checked;
                 "
                  />
                  <label
                    class="btn btn-outline-primary w-100"
                    for="enableFarnsworth"
                    id="enableFarnsworthLabel"
                  >
                    <i class="fa-regular fa-circle-xmark me-2"></i>Farnsworth
                  </label>
                </div>

                <!-- Farnsworth Speed -->
                <div class="col-12 col-md-6 col-lg">
                  <label for="farnsworthSpeed" class="form-label"
                    >Effective Speed (WPM)</label
                  >
                  <input
                    type="number"
                    id="farnsworthSpeed"
                    name="farnsworthSpeed"
                    class="form-control"
                    value="10"
                    min="1"
                    max="100"
                    step="1"
                    required
                    disabled
                  />
                </div>
              </div>

              <!-- Tone and Volume Row -->
              <div class="row g-3 mt-3 align-items-end">
                <div class="col-12 col-md-6 col-lg-2">
                  <label for="minTone" class="form-label">Min Tone (Hz)</label>
                  <input
                    type="number"
                    id="minTone"
                    name="minTone"
                    class="form-control"
                    value="400"
                    min="1"
                    max="9999"
                    step="1"
                    required
                  />
                  <div class="invalid-feedback"></div>
                </div>
                <div class="col-12 col-md-6 col-lg-2">
                  <label for="maxTone" class="form-label">Max Tone (Hz)</label>
                  <input
                    type="number"
                    id="maxTone"
                    name="maxTone"
                    class="form-control"
                    value="900"
                    min="1"
                    max="9999"
                    step="1"
                    required
                  />
                </div>
                <div class="col-12 col-md-6 col-lg-2">
                  <label for="minVolume" class="form-label">Min Volume</label>
                  <input
                    type="number"
                    id="minVolume"
                    name="minVolume"
                    class="form-control"
                    value="30"
                    min="0"
                    max="100"
                    step="1"
                    required
                  />
                  <div class="invalid-feedback"></div>
                </div>
                <div class="col-12 col-md-6 col-lg-2">
                  <label for="maxVolume" class="form-label">Max Volume</label>
                  <input
                    type="number"
                    id="maxVolume"
                    name="maxVolume"
                    class="form-control"
                    value="100"
                    min="0"
                    max="100"
                    step="1"
                    required
                  />
                </div>
                <div class="col-12 col-md-6 col-lg-2">
                  <label for="minWait" class="form-label">
                    <span class="badge bg-success me-2">NEW!</span>
                    <br class="d-none d-lg-block d-xl-none" />
                    Min Wait (s)</label
                  >
                  <input
                    type="number"
                    id="minWait"
                    name="minWait"
                    class="form-control"
                    value="0.25"
                    min="0"
                    max="2"
                    step="0.25"
                    required
                  />
                </div>
                <div class="col-12 col-md-6 col-lg-2">
                  <label for="maxWait" class="form-label">
                    <span class="badge bg-success me-2">NEW!</span>
                    <br class="d-none d-lg-block d-xl-none" />
                    Max Wait (s)</label
                  >
                  <input
                    type="number"
                    id="maxWait"
                    name="maxWait"
                    class="form-control"
                    value="1.75"
                    min="0"
                    max="5"
                    step="0.25"
                    required
                  />
                </div>
              </div>

              <!-- US Only and Callsign Format Row -->
              <div class="row g-3 mt-3 align-items-end">
                <!-- US Only Callsigns -->
                <div class="col-12 col-md-4">
                  <input
                    type="checkbox"
                    class="btn-check"
                    autocomplete="off"
                    id="usOnly"
                    checked
                    onchange="
                   document.getElementById('usOnlyLabel').innerHTML =
                     `<i class='${this.checked ? 'fa-solid fa-circle-check' : 'fa-regular fa-circle-xmark'} me-2'></i>US Only Callsigns`;
                 "
                  />
                  <label
                    class="btn btn-outline-primary w-100"
                    for="usOnly"
                    id="usOnlyLabel"
                  >
                    <i class="fa-solid fa-circle-check me-2"></i>US Only
                    Callsigns
                  </label>
                </div>

                <!-- ðŸ‡·ðŸ‡º Russian Only Callsigns -->
                <div class="col-12 col-md-4">
                  <input
                    type="checkbox"
                    class="btn-check"
                    autocomplete="off"
                    id="russianOnly"
                    onchange="
                  document.getElementById('russianOnlyLabel').innerHTML =
                    `<i class='${this.checked ? 'fa-solid fa-circle-check' : 'fa-regular fa-circle-xmark'} me-2'></i>Russian Only Callsigns`;
                "
                  />
                  <label
                    class="btn btn-outline-primary w-100"
                    for="russianOnly"
                    id="russianOnlyLabel"
                  >
                    <i class="fa-regular fa-circle-xmark me-2"></i>Russian Only
                    Callsigns
                  </label>
                </div>

                <!-- Callsign Format Options -->
                <div class="col-12 col-md-8">
                  <label class="form-label">Callsign Format Options</label>
                  <div
                    class="btn-group w-100 flex-wrap"
                    role="group"
                    aria-label="Callsign Type"
                  >
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="1x1"
                      autocomplete="off"
                    />
                    <label class="btn btn-outline-primary" for="1x1">1x1</label>

                    <input
                      type="checkbox"
                      class="btn-check"
                      id="1x2"
                      autocomplete="off"
                      checked
                    />
                    <label class="btn btn-outline-primary" for="1x2">1x2</label>

                    <input
                      type="checkbox"
                      class="btn-check"
                      id="2x1"
                      autocomplete="off"
                      checked
                    />
                    <label class="btn btn-outline-primary" for="2x1">2x1</label>

                    <input
                      type="checkbox"
                      class="btn-check"
                      id="2x2"
                      autocomplete="off"
                      checked
                    />
                    <label class="btn btn-outline-primary" for="2x2">2x2</label>

                    <input
                      type="checkbox"
                      class="btn-check"
                      id="1x3"
                      autocomplete="off"
                      checked
                    />
                    <label class="btn btn-outline-primary" for="1x3">1x3</label>

                    <input
                      type="checkbox"
                      class="btn-check"
                      id="2x3"
                      autocomplete="off"
                      checked
                    />
                    <label class="btn btn-outline-primary" for="2x3">2x3</label>
                  </div>
                </div>
              </div>

              <!-- Cut Numbers Row -->
              <div class="row g-3 mt-3 align-items-end">
                <!-- Enable Cut Numbers -->
                <div class="col-12 col-md-4">
                  <label class="form-label"
                    ><span class="badge bg-success me-2">NEW!</span></label
                  >
                  <input
                    type="checkbox"
                    class="btn-check"
                    autocomplete="off"
                    id="enableCutNumbers"
                    onchange="document.getElementById('enableCutNumbersLabel').innerHTML =
                            `<i class='${this.checked ? 'fa-solid fa-circle-check' : 'fa-regular fa-circle-xmark'} me-2'></i>Enable Cut Numbers`;
                            "
                  />
                  <label
                    class="btn btn-outline-primary w-100"
                    for="enableCutNumbers"
                    id="enableCutNumbersLabel"
                  >
                    <i class="fa-regular fa-circle-xmark me-2"></i>Enable Cut
                    Numbers
                  </label>
                </div>

                <!-- Individual Cut Number Options -->
                <div class="col-12 col-md-8">
                  <label class="form-label">Cut Number Options</label>
                  <div
                    class="btn-group w-100 flex-wrap"
                    role="group"
                    aria-label="Cut Numbers"
                  >
                    <!-- T(0) checked by default -->
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="cutT"
                      autocomplete="off"
                      checked
                    />
                    <label
                      class="btn btn-responsive btn-outline-primary"
                      for="cutT"
                      >T/0</label
                    >

                    <!-- A(1) -->
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="cutA"
                      autocomplete="off"
                    />
                    <label
                      class="btn btn-responsive btn-outline-primary"
                      for="cutA"
                      >A/1</label
                    >

                    <!-- U(2) -->
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="cutU"
                      autocomplete="off"
                    />
                    <label
                      class="btn btn-responsive btn-outline-primary"
                      for="cutU"
                      >U/2</label
                    >

                    <!-- V(3) -->
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="cutV"
                      autocomplete="off"
                    />
                    <label
                      class="btn btn-responsive btn-outline-primary"
                      for="cutV"
                      >V/3</label
                    >

                    <!-- E(5) -->
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="cutE"
                      autocomplete="off"
                    />
                    <label
                      class="btn btn-responsive btn-outline-primary"
                      for="cutE"
                      >E/5</label
                    >

                    <!-- G(7) -->
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="cutG"
                      autocomplete="off"
                    />
                    <label
                      class="btn btn-responsive btn-outline-primary"
                      for="cutG"
                      >G/7</label
                    >

                    <!-- D(8) -->
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="cutD"
                      autocomplete="off"
                    />
                    <label
                      class="btn btn-responsive btn-outline-primary"
                      for="cutD"
                      >D/8</label
                    >

                    <!-- N(9) checked by default -->
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="cutN"
                      autocomplete="off"
                      checked
                    />
                    <label
                      class="btn btn-responsive btn-outline-primary"
                      for="cutN"
                      >N/9</label
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Effects -->
      <!-- Effects -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingEffects">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapseEffects"
            aria-expanded="false"
            aria-controls="collapseEffects"
          >
            <h5>Effects Settings</h5>
          </button>
        </h2>
        <div
          id="collapseEffects"
          class="accordion-collapse collapse"
          aria-labelledby="headingEffects"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <div class="container">
              <div class="row g-3 align-items-end">
                <!-- QRN (Atmospheric Noise) -->
                <div class="col-12 col-lg-4 d-flex flex-column">
                  <label for="qrnOff" class="form-label"
                    >QRN (Atmospheric Noise)</label
                  >
                  <div class="btn-group" role="group" aria-label="QRN Levels">
                    <input
                      type="radio"
                      class="btn-check"
                      name="qrn"
                      id="qrnOff"
                      value="off"
                    />
                    <label class="btn btn-outline-primary" for="qrnOff"
                      >Off</label
                    >

                    <input
                      type="radio"
                      class="btn-check"
                      name="qrn"
                      id="qrnNormal"
                      value="normal"
                      checked
                    />
                    <label class="btn btn-outline-primary" for="qrnNormal"
                      >Normal</label
                    >

                    <input
                      type="radio"
                      class="btn-check"
                      name="qrn"
                      id="qrnModerate"
                      value="moderate"
                    />
                    <label class="btn btn-outline-primary" for="qrnModerate"
                      >Moderate</label
                    >

                    <input
                      type="radio"
                      class="btn-check"
                      name="qrn"
                      id="qrnHeavy"
                      value="heavy"
                    />
                    <label class="btn btn-outline-primary" for="qrnHeavy"
                      >Heavy</label
                    >
                  </div>
                </div>

                <!-- QSB Section (Checkbox and Slider Together) -->
                <div class="col-12 col-lg-8">
                  <div class="row g-3 align-items-end">
                    <!-- QSB Checkbox -->
                    <div class="col-12 col-md-6 d-flex flex-column">
                      <input
                        type="checkbox"
                        class="btn-check"
                        id="qsb"
                        autocomplete="off"
                        onchange="
                         document.getElementById('qsbLabel').innerHTML =
                           `<i class='${this.checked ? 'fa-solid fa-circle-check' : 'fa-regular fa-circle-xmark'} me-2'></i>QSB (Fading)`;
                         document.getElementById('qsbPercentage').disabled = !this.checked;
                       "
                      />
                      <label
                        class="btn btn-outline-primary w-100"
                        for="qsb"
                        id="qsbLabel"
                      >
                        <i class="fa-regular fa-circle-xmark me-2"></i>QSB
                        (Fading)
                      </label>
                    </div>

                    <!-- QSB Slider -->
                    <div class="col-12 col-md-6 d-flex flex-column">
                      <label for="qsbPercentage" class="form-label">
                        Stations with QSB (<span id="qsbValue">50%</span>)
                      </label>
                      <input
                        type="range"
                        id="qsbPercentage"
                        class="form-range mt-auto"
                        min="0"
                        max="100"
                        value="50"
                        disabled
                        oninput="document.getElementById('qsbValue').textContent = this.value + '%';"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <hr />

    <!-- Control Buttons -->
    <div class="container">
      <!-- Active Stations Row -->
      <div class="row g-3">
        <div class="col-12 d-flex align-items-center">
          <strong>Active Stations:</strong>&nbsp;<span id="activeStations"
            >0</span
          >
          <!-- Help button with icon and text -->
          <button
            type="button"
            class="btn btn-link ms-3 d-flex align-items-center"
            data-bs-toggle="modal"
            data-bs-target="#helpModal"
            aria-label="Help"
            data-bs-toggle="tooltip"
            data-bs-placement="right"
            title="Click for help"
          >
            <i class="fa-solid fa-circle-question fa-lg me-1"></i> HELP
          </button>
        </div>
      </div>
      <hr />

      <!-- Mode Controls and Stop/Reset -->
      <div class="row g-3 align-items-center">
        <!-- Main controls: On large screens, this and the stop/reset fit on one line.
             On medium screens, these controls form the first row.
             On small screens, these will form the first and second rows. -->
        <div class="col-12 col-lg-9 d-flex flex-wrap align-items-center">
          <!-- First row on small: CQ, Response Text Box, Send -->
          <button id="cqButton" class="btn btn-success me-2 mb-2">CQ</button>
          <input
            type="text"
            id="responseField"
            class="form-control me-2 mb-2"
            style="max-width: 150px"
            placeholder="Response"
            autocomplete="off"
            autocapitalize="characters"
            spellcheck="false"
            autocorrect="off"
          />
          <button id="sendButton" class="btn btn-primary me-2 mb-2">
            Send
          </button>

          <!-- Force a new line after sendButton on small screens -->
          <div class="w-100 d-sm-block d-md-none"></div>

          <!-- Second row on small: infoField, infoField2, TU -->
          <input
            type="text"
            id="infoField"
            class="form-control me-2 mb-2"
            style="display: none; max-width: 150px"
            placeholder=""
            autocomplete="off"
            autocapitalize="characters"
            spellcheck="false"
            autocorrect="off"
          />
          <input
            type="text"
            id="infoField2"
            class="form-control me-2 mb-2"
            style="display: none; max-width: 150px"
            placeholder=""
            autocomplete="off"
            autocapitalize="characters"
            spellcheck="false"
            autocorrect="off"
          />
          <button id="tuButton" class="btn btn-info mb-2" style="display: none">
            TU
          </button>
        </div>

        <!-- Stop & Reset: On large, same row as above.
             On medium, this becomes the second row.
             On small, this becomes the third row. -->
        <div
          class="col-12 col-lg-3 d-flex justify-content-lg-end align-items-center"
        >
          <button id="stopButton" class="btn btn-danger me-2 mb-2">Stop</button>
          <button id="resetButton" class="btn btn-secondary mb-2">Reset</button>
        </div>
      </div>
    </div>

    <!-- Help Modal -->
    <div
      class="modal fade"
      id="helpModal"
      tabindex="-1"
      aria-labelledby="helpModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="helpModalLabel" data-i18n="help.title">
              Getting Started
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <!-- Cheat Section -->
            <div class="alert alert-info">
              <h6 data-i18n="help.cheatTitle">How to "Cheat"</h6>
              <p data-i18n="help.cheatText">
                If you feel like you need a little extra help to get started,
                open your browser's JavaScript console to see behind the scenes
                information, such as which stations are calling.
              </p>
              <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>
            </div>

            <!-- Step 1 -->
            <div class="help-step mb-4">
              <h6 data-i18n="help.step1Title">Click "CQ" to start calling</h6>
              <p data-i18n="help.step1Text">
                Up to your "Max Stations" will respond. It may start slowly,
                often with just one or two stations initially. If you want more
                stations, just call CQ again!
              </p>
            </div>

            <!-- Step 2 -->
            <div class="help-step mb-4">
              <h6 data-i18n="help.step2Title">Enter the callsign</h6>
              <p data-i18n="help.step2Text">
                Enter the callsign of the station you'd like to work.
              </p>
              <ul>
                <li data-i18n="help.step2List.0">
                  Send 'AGN', 'AGN?', or '?' to request all stations to repeat
                  themselves.
                </li>
                <li data-i18n="help.step2List.1">
                  Use partial matches to single out stations in a pileup. E.g.,
                  for W6NYC, all of the following will get a reply back: 'W?',
                  'W6?', 'W6NC', 'NYC'.
                </li>
                <li data-i18n="help.step2List.2">
                  Note that more than one station may reply if they match your
                  partial pattern!
                </li>
                <li data-i18n="help.step2List.3">
                  Send "QRS" to have the last responding stations slow down by
                  adding 6 WPM to their Farnsworth spacing.
                </li>
              </ul>
            </div>

            <!-- Step 3 -->
            <div class="help-step mb-4">
              <h6 data-i18n="help.step3Title">Click "Send"</h6>
              <p data-i18n="help.step3Text">
                Click "Send" to transmit whatever you've entered in the Response
                text field. Use this to respond to a station.
              </p>
            </div>

            <!-- Step 4 -->
            <div class="help-step mb-4">
              <h6 data-i18n="help.step4Title">Fill in mode-specific fields</h6>
              <p data-i18n="help.step4Text">
                These mode-specific fields appear when you need to enter extra
                details, such as a name, state, or a contest serial number.
                Filling these in are completely optional before clicking "TU".
              </p>
            </div>

            <!-- Step 5 -->
            <div class="help-step mb-4">
              <h6 data-i18n="help.step5Title">Click "TU"</h6>
              <p data-i18n="help.step5Text">
                After completing an exchange, click "TU" to send a wrap-up,
                thank you message. Each mode has a slightly different way of
                completing. After clicking TU, new stations sometimes hop in!
                But, in case they don't, you can always go back and click CQ.
              </p>
            </div>

            <!-- Stop -->
            <div class="help-step mb-4">
              <h6 data-i18n="help.stopTitle">Stop</h6>
              <p data-i18n="help.stopText">
                Halts the current transmission or activity.
              </p>
            </div>

            <!-- Reset -->
            <div class="help-step mb-4">
              <h6 data-i18n="help.resetTitle">Reset</h6>
              <p data-i18n="help.resetText">
                Clears all entries and starts you fresh, ready to begin a new
                contact sequence.
              </p>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
              data-i18n="close"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <hr />

    <!-- Results Table -->
    <h3 id="modeResultsHeader">Results</h3>
    <table class="table table-hover mb-5" id="resultsTable">
      <thead>
        <tr>
          <th>#</th>
          <th>Callsign</th>
          <th>WPM</th>
          <th>Attempts</th>
          <th>Total Time</th>
          <th class="mode-specific-column">Additional Info</th>
        </tr>
      </thead>
      <tbody>
        <!-- Rows dynamically added -->
      </tbody>
    </table>

    <!-- Footer -->
    <footer class="mt-5 py-3" style="background-color: #343a40">
      <div class="container text-center">
        <p class="mb-0" style="color: #adb5bd">
          Crafted with <i class="fas fa-coffee text-warning"></i> and
          <i class="fas fa-broadcast-tower text-primary"></i> by
          <a
            href="https://qrz.com/db/W6NYC"
            target="_blank"
            style="color: #ffc107; text-decoration: none"
            >W6NYC</a
          >
          | Enhanced by
          <a
            href="https://qrz.com/db/R9OGL"
            target="_blank"
            style="color: #17a2b8; text-decoration: none"
            >R9OGL</a
          >
          | Check out
          <a
            href="https://github.com/sc0tfree/morsewalker"
            target="_blank"
            style="color: #66d9ef; text-decoration: none"
            >the source code</a
          >!
        </p>
      </div>
    </footer>
    <!-- Ð›Ð¾ÐºÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ -->
    <script type="module" src="js/main.js"></script>
  </body>
</html>
